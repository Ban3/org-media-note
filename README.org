[[file:README_CN.org][中文文档]]

* About
Take notes for video and audio files in org-mode! Now supported:

- media control: seek backward/forward, control volume and playback speed ...
- new link types =video=, =audio=
  + e.g. =[[video:course.mp4#0:01:56][0:01:56]]=
  + insert current timestamp during playing media
  + click link to jump to corresponding position
- insert screencast and subtitle
- import from:
  + PBF: generated by PotPlayer
  + TXT: exported by [[https://www.notedapp.io/][Noted]]

Working with [[https://github.com/jkitchin/org-ref][org-ref]] to get a better experience:

- quick open related media file in org-ref note (file path is got from bib file)
- new link types =videocite=, =audiocite=
  + e.g. =[[videocite:key#0:01:56][0:01:56]]=
  + you can chose to insert =video= or =videocite= link
  + click link to jump to corresponding position
  + show bib info when pointing at link
  + open org-ref action list

* Demo

Open related media file in org-ref note，play on top，insert current timestamp and subtitle

[[../demo/org-media-note-add.gif?raw=true]]

Insert current screencast. Also, you can customize to auto insert screencast when create a new note item
[[../demo/org-media-note-screenshot.gif?raw=true]]

Jump to the right position by clicking link
[[../demo/org-media-note-follow.gif?raw=true]]
* QuickStart
1. Install
   - for doom users：
     #+BEGIN_SRC emacs-lisp :tangle "packages.el"
(package! org-media-note :recipe (:host github :repo "yuchen-lea/org-media-note"))
     #+END_SRC
2. Config
   - for doom users：
     + don't use org-ref
       #+BEGIN_SRC emacs-lisp
(use-package! org-media-note
  :hook (org-mode .  org-media-note-mode)
  :bind (
         ("H-v" . org-media-note-hydra/body))  ;; Main entrance
  :config
  (setq org-media-note-screenshot-image-dir "~/Notes/imgs/")  ;; Folder to save screencast
  )
       #+END_SRC
     + use org-ref
       #+BEGIN_SRC emacs-lisp
(use-package! org-media-note
  :hook (org-mode .  org-media-note-setup-org-ref)
  :bind (
         ("H-v" . org-media-note-hydra/body))  ;; Main entrance
  :config
  (setq org-media-note-screenshot-image-dir "~/Notes/imgs/")  ;; Folder to save screencast
  (setq org-media-note-use-refcite-first t)  ;; use videocite link instead of video link if possible
  )
       #+END_SRC
   - ℹ Here, I use Hyper key =H= for keybinding. In this way, I can quickly access personal functions, and no major or minor modes will stamp on my keys. Look into this for more infomation: [[http://ergoemacs.org/emacs/emacs_hyper_super_keys.html][Emacs: How to Bind Super Hyper Keys]]. Or you can bind it to any other key you like. After all, it's Emacs ;)
3. Then, you can access all functions in =org-media-note-hydra/body=
* Dependencies
- [[https://github.com/kljohann/mpv.el][mpv.el]] control media inside emacs
- [[https://github.com/jerrypnz/major-mode-hydra.el][pretty-hydra]] create a amiable hydra

 [[https://github.com/jkitchin/org-ref][org-ref]] is not required, but it's worth to have a try if you use bib to manage your media file!
